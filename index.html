<!DOCTYPE html>
<style>
    img
    {
        height: 700px;
        position: absolute;
    }
    .lampa
    {
        position: absolute;
        border-radius: 50%;
        width: 173px;
        height: 173px;
    }
    .vasut
    {
        position: absolute;
        border-radius: 50%;
        width: 49px;
        height: 49px;
    }
    #p1
    {
        background-color: red;
        top: 375px;
        left: 359px;
        display: none;
    }
    #p2
    {
        background-color: red;
        top: 373px;
        left: 469px;
        display: none;
    }
    #f
    {
        background-color: white;
        top: 472px;
        left: 414px;
    }
    .jobb
    {
        left: 300px;
    }
    #div1
    {
        background-color: red;
        top: 52px;
        left: 48px;
    }
    #div2
    {
        background-color: yellow;
        top: 257px;
        left: 53px;
        display: none;
    }
    #div3
    {
        background-color: green;
        top: 466px;
        left: 52px;
        display: none;
    }
</style>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LÃ¡mpa</title>
</head>
<body>
    <img src="assets/images/jelzolampa.jpg" onclick="Lampa()" ondblclick="Katalizal()">
    <img src="assets/images/vasuti-lampa.jpg" onclick="Lampa2()" class="jobb">
    <div class="lampa" id="div1" onclick="Lampa()" ondblclick="Katalizal()"></div>
    <div class="lampa" id="div2" onclick="Lampa()" ondblclick="Katalizal()"></div>
    <div class="lampa" id="div3" onclick="Lampa()" ondblclick="Katalizal()"></div>
    <div class="vasut" id="p1" onclick="Lampa2()"></div>
    <div class="vasut" id="p2" onclick="Lampa2()"></div>
    <div class="vasut" id="f" onclick="Lampa2()"></div>
</body>
</html>
<script>
    var x;
    var x2;

    var pos = 1;
    var lampa2 = 2;

    var div1 = document.getElementById("div1");
    var div2 = document.getElementById("div2");
    var div3 = document.getElementById("div3");

    var p1 = document.getElementById("p1");
    var p2 = document.getElementById("p2");
    var f = document.getElementById("f");

    function Lampa()
    {
        if (pos == 1)
        {
            div2.style.display = "block";
            pos = 2;
        }
        else if (pos == 2)
        {
            div1.style.display = "none";
            div2.style.display = "none";
            div3.style.display = "block";
            pos = 3;
        }
        else if (pos == 3)
        {
            div2.style.display = "block";
            div3.style.display = "none";
            pos = 4;
        }
        else if (pos == 4)
        {
            div1.style.display = "block";
            div2.style.display = "none";
            pos = 1;
        }
    }

    function Lampa2()
    {
        clearInterval(x);
        if (lampa2 == 1)
        {
            p1.style.display = "none";
            p2.style.display = "block";
            f.style.display = "none";
            x = setInterval(Piros, 500);
            lampa2 = 2;
        }
        else if (lampa2 == 2)
        {
            p1.style.display = "none";
            p2.style.display = "none";
            f.style.display = "block";
            x = setInterval(Feher, 500)
            lampa2 = 1;
        }
    }

    var piros = 1;
    var feher = true;

    function Piros()
    {
        if (piros == 1)
        {
            p1.style.display = "block";
            p2.style.display = "none";
            piros = 2;
        }
        else if (piros == 2)
        {
            p1.style.display = "none";
            p2.style.display = "block";
            piros = 1;
        }
    }
    function Feher()
    {
        if (feher == 0)
        {
            f.style.display = "block";
            feher = 1;
        }
        else
        {
            f.style.display = "none";
            feher = 0;
        }
    }
    var villog = false;
    function Katalizal()
    {
        if (!villog)
        {
            x2 = setInterval(Lampa, 500);
            villog = true;
        }
        else
        {
            clearInterval(x2);
            villog = false;
        }
    }

    Lampa2();

</script>